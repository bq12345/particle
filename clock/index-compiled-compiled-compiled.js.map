{"version":3,"sources":["index-compiled-compiled.js"],"names":[],"mappings":"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","file":"index-compiled-compiled-compiled.js","sourcesContent":["let canvas = document.getElementById(\"cas\");\nlet context = canvas.getContext('2d');\nlet dots;\nlet focallength = 250;\nlet pause = false;\n\nlet getRandomColor = () => {\n    return [\"#4285f4\", \"#ea4335\", \"#fbbc05\", \"#34a853\"][parseInt(Math.random() * 4, 10)];\n};\n\nfunction initAnimate() {\n\n    for (let i = 0; i < dots.length; i++) {\n        let dot = dots[i];\n        dot.x = Math.random() * canvas.width;\n        dot.y = Math.random() * canvas.height;\n        dot.z = Math.random() * focallength * 2 - focallength;\n        dot.tx = Math.random() * canvas.width;\n        dot.ty = Math.random() * canvas.height;\n        dot.tz = Math.random() * focallength * 2 - focallength;\n        dot.paint();\n    }\n\n    animate();\n}\n\n//计算帧速率\nlet lastTime;\nlet derection = true;\n\nfunction animate() {\n    animateRunning = true;\n    let thisTime = +new Date();\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    dots.forEach(function (dot) {\n        if (derection) {\n            if (Math.abs(dot.dx - dot.x) < 0.1 && Math.abs(dot.dy - dot.y) < 0.1 && Math.abs(dot.dz - dot.z) < 0.1) {\n                dot.x = dot.dx;\n                dot.y = dot.dy;\n                dot.z = dot.dz;\n                if (thisTime - lastTime > 300) {\n                    derection = false;\n                }\n            } else {\n                dot.x = dot.x + (dot.dx - dot.x) * 0.1;\n                dot.y = dot.y + (dot.dy - dot.y) * 0.1;\n                dot.z = dot.z + (dot.dz - dot.z) * 0.1;\n                lastTime = +new Date();\n            }\n        } else {\n            if (Math.abs(dot.tx - dot.x) < 0.1 && Math.abs(dot.ty - dot.y) < 0.1 && Math.abs(dot.tz - dot.z) < 0.1) {\n                dot.x = dot.tx;\n                dot.y = dot.ty;\n                dot.z = dot.tz;\n                pause = true;\n            } else {\n                dot.x = dot.x + (dot.tx - dot.x) * 0.1;\n                dot.y = dot.y + (dot.ty - dot.y) * 0.1;\n                dot.z = dot.z + (dot.tz - dot.z) * 0.1;\n                pause = false;\n            }\n        }\n        dot.paint();\n    });\n    if (!pause) {\n        requestAnimationFrame(animate);\n    }\n}\n\ndocument.getElementById('startBtn').onclick = function () {\n    if (!pause) return;\n    dots = getimgData(document.getElementById('name').value);\n    derection = true;\n    pause = false;\n    initAnimate();\n};\n\nfunction getimgData(text) {\n    // draw text\n    context.save();\n    context.font = \"200px 微软雅黑 bold\";\n    context.fillStyle = \"rgba(168,168,168,1)\";\n    context.textAlign = \"center\";\n    context.textBaseline = \"middle\";\n    context.fillText(text, canvas.width / 2, canvas.height / 2);\n    context.restore();\n\n    let imgData = context.getImageData(0, 0, canvas.width, canvas.height);\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    let dots = [];\n    for (let x = 0; x < imgData.width; x += 6) {\n        for (let y = 0; y < imgData.height; y += 6) {\n            let i = (y * imgData.width + x) * 4;\n            if (imgData.data[i] >= 128) {\n                let dot = new Dot(x - 2, y - 2, 0, 2);\n                dots.push(dot);\n            }\n        }\n    }\n    return dots;\n}\n\nlet Dot = function (centerX, centerY, centerZ, radius) {\n    this.dx = centerX;\n    this.dy = centerY;\n    this.dz = centerZ;\n    this.tx = 0;\n    this.ty = 0;\n    this.tz = 0;\n    this.z = centerZ;\n    this.x = centerX;\n    this.y = centerY;\n    this.radius = radius;\n    this.color = getRandomColor();\n};\n\nDot.prototype.paint = function () {\n    context.save();\n    context.beginPath();\n    let scale = focallength / (focallength + this.z);\n    context.arc(canvas.width / 2 + (this.x - canvas.width / 2) * scale, canvas.height / 2 + (this.y - canvas.height / 2) * scale, this.radius * scale, 0, 2 * Math.PI);\n    context.fillStyle = this.color;\n    context.fill();\n    context.restore();\n};\n\ndots = getimgData(document.getElementById('name').value);\n\n// initAnimate();\n\ndots.forEach(dot => {\n    dot.paint();\n});\n\n//# sourceMappingURL=index-compiled.js.map\n\n//# sourceMappingURL=index-compiled-compiled.js.map"]}